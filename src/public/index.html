<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="icon" href="./img/favicon.png" />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<title>Mercury - Login</title>
</head>

<body>
	<form action="/entrar" method="POST">
		<input type="text" name="username" id="username" placeholder="username" oninput="handleUser();" required> <br>
		<input type="password" name="password" id="password" placeholder="senha" required> <br>
		<select name="method" id="method" onchange="changeMode();" required>
			<option value="mercury">Mercury</option>
			<option value="google">Google</option>
		</select> <br>
		<button type="submit">Entrar</button>
	</form>
	<script>
		
		function handleUser() {
			let user = $('input[name=username]').val();
			sessionStorage.setItem('mm-username', user);
		}		
		
		function changeMode() {
			let passwordElement = $('input[name=password]');
			let select = $('#method option:selected').val();
			if (select === "google") {
				passwordElement.remove();
			}
		}

	</script>
</body>

</html>